:root{
  --brand: #1e3a8a;
  --text: #0b1220;
  --muted: #475569;
  --bg: #ffffff;

  --nav-h: 58px;         /* altura navbar */
  --content-max: 1200px;
  --gutter: 12px;
  --gutter-lg: 22px;

  --text-shadow: 0 1px 2px rgba(0,0,0,0.22);
}

/* Reset y base (evita franja arriba) */
*,
*::before,
*::after { box-sizing: border-box; }
html, body { height: 100%; margin: 0; padding: 0; background: var(--bg); }
html { scroll-behavior: smooth; }

/* Fuerza que el primer elemento no empuje hacia abajo (colapso de márgenes) */
body{
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial;
  color: var(--text);
  overflow-x: hidden;
  padding-top: var(--nav-h);            /* compensa header fijo */
}
body > :first-child { margin-top: 0 !important; }

/* Contenedor fluido */
.container,
.content{
  width: min(100% - 2*var(--gutter), var(--content-max));
  margin-inline: auto;
  padding-inline: var(--gutter);
}

img, svg, video { max-width: 100%; height: auto; display: block; }

/* Header / Nav (sin franja blanca superior) */
.site-header{
  position: fixed; top: 0; left: 0; right: 0;   /* fixed evita saltos y franjas */
  height: var(--nav-h);
  margin: 0 !important; padding: 0 !important;  /* sin margen/padding */
  background: var(--brand);
  color: #fff;
  border: 0; border-bottom: 1px solid rgba(255,255,255,0.14);
  box-shadow: none;
  z-index: 1000;
}
/* Evita colapso de márgenes del primer hijo dentro del header */
.site-header > *:first-child{ margin-top: 0 !important; }
.nav-wrap{ margin-top: 0 !important; }

.nav-wrap{
  height: var(--nav-h);
  display: grid;
  grid-template-columns: 1fr;
  align-items: center;
  gap: 6px;
  padding-inline: var(--gutter);
}
.brand{
  font-weight: 800;
  color: #fff;
  letter-spacing: -0.01em;
  font-size: clamp(0.86rem, 1.9vw, 1rem);
}
.nav{
  display: flex;
  flex-wrap: wrap;
  gap: 6px 8px;
}
.nav a{
  color: #fff; text-decoration: none; font-weight: 600;
  font-size: clamp(0.78rem, 1.7vw, 0.95rem);
  padding: 4px 8px; border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.35);
  background: linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.10));
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.22), 0 5px 14px rgba(0,0,0,0.16);
  backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
  transition: transform .08s ease, box-shadow .2s ease, border-color .2s ease;
}
.nav a:hover, .nav a.active{ transform: translateY(-1px); }

/* Secciones base */
.section{
  position: relative;
  padding-block: clamp(24px, 5vw, 64px);
  text-align: left;
  isolation: isolate;
}
.section .content{ position: relative; z-index: 1; }

/* Fondo con imagen + overlay */
.bg-image{
  background-size: cover; background-position: center; background-repeat: no-repeat;
  filter: grayscale(6%) contrast(95%) brightness(96%);
}
.bg-image::before{
  content: ""; position: absolute; inset: 0;
  background: rgba(255,255,255,0.56);
  backdrop-filter: blur(1px); -webkit-backdrop-filter: blur(1px);
  z-index: 0;
}

/* Fondos por sección */
#home{        background-image: url('/landing-salud/images/portada.jpg'); }
#contexto{    background-image: url('/landing-salud/images/introduccion.jpg'); }
#datos{       background-image: url('/landing-salud/images/introduccion.jpg'); }
#metodologia{ background-image: url('/landing-salud/images/introduccion.jpg'); }
#powerbi{     background-image: url('/landing-salud/images/conclusion.jpg'); }
#acerca{      background-image: url('/landing-salud/images/conclusion.jpg'); }

/* Portada a pantalla completa (restando el header) */
#home.section{
  min-height: calc(100svh - var(--nav-h));
  display: grid; place-items: center;
  padding-block: 0;
}
#home .content{
  display: grid;
  gap: 0.6rem;
  padding-block: clamp(14px, 3.2vw, 24px);
}

/* Tipografías compactas */
.section h1.section-label{
  margin: 0;
  font-size: clamp(0.8rem, 1.8vw, 0.95rem);
  font-weight: 700; color: #334155; opacity: 0.95; letter-spacing: 0.02em;
}
.title{
  color: var(--brand); font-weight: 800; letter-spacing: -0.01em;
  line-height: 1.12;
  font-size: clamp(1.5rem, 4.6vw, 3.1rem);
  margin: 0 auto 0.2rem; max-width: 22ch; text-align: center;
  text-shadow: var(--text-shadow);
}
.text{
  font-size: clamp(0.86rem, 1.7vw, 1rem);
  line-height: 1.5; color: var(--text); margin: 0; max-width: 74ch;
}
#home .content, #contexto .content, #datos .content, #metodologia .content, #powerbi .content, #acerca .content{
  text-shadow: var(--text-shadow); color: var(--text);
}

/* Utilitarios de layout */
.one-col{ display: grid; grid-template-columns: 1fr; justify-items: center; }
.fullwidth{ width: 100%; max-width: var(--content-max); }

/* Grids */
.grid{ display: grid; gap: clamp(10px, 2.4vw, 22px); }
.grid-2{ display: grid; grid-template-columns: 1fr; gap: clamp(10px, 2.4vw, 22px); }
@media (min-width: 768px){ .grid-2{ grid-template-columns: 1fr 1fr; } }
.grid-auto{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(min(220px, 100%), 1fr));
  gap: clamp(10px, 2.4vw, 22px);
}

/* Dos columnas (texto + gráfico) */
.two-col{
  display: grid; grid-template-columns: 1fr;
  gap: clamp(10px, 2.4vw, 22px); align-items: start;
}
@media (min-width: 768px){ .two-col{ grid-template-columns: 1.05fr 1fr; } }
@media (min-width: 1024px){ .two-col{ grid-template-columns: 1.15fr 1fr; } }

/* Data grid (sección Datos) */
.data-grid{ display: grid; grid-template-columns: 1fr; gap: clamp(12px, 2.6vw, 24px); }
.data-grid > .data-row{
  display: grid; grid-template-columns: 1fr; gap: clamp(10px, 2.4vw, 22px); align-items: start;
}
@media (min-width: 768px){ .data-grid > .data-row{ grid-template-columns: 1.05fr 1fr; } }
@media (min-width: 1024px){ .data-grid > .data-row{ grid-template-columns: 1.15fr 1fr; } }

.viz-col{ min-width: 0; }
.text-col{ display: grid; gap: 0.5rem; align-content: start; min-width: 0; }

/* Tarjetas */
.card, .fullwidth-card, .team-card{
  border-radius: 10px;
  background: rgba(255,255,255,0.9);
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.45), 0 5px 16px rgba(0,0,0,0.10);
}
.fullwidth-card-body{ padding: 12px 14px; }
.row-full{ grid-column: 1 / -1; width: 100%; }

/* Contenedores de gráficos */
.chart-container{
  position: relative; width: 100%;
  min-height: 200px;
  background: rgba(255,255,255,0.95);
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 10px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.55), 0 6px 16px rgba(0,0,0,0.10);
  overflow: hidden;
  padding: 4px;
}
@media (min-width: 640px){ .chart-container{ min-height: 240px; } }
@media (min-width: 1024px){ .chart-container{ min-height: 300px; padding: 6px; border-radius: 12px; } }
.chart-container > *{ min-height: 1px; }

/* IDs para Contexto 1 y 2 */
#chart-contexto-1, #chart-contexto-2{ min-height: 210px; }
@media (min-width: 640px){ #chart-contexto-1, #chart-contexto-2{ min-height: 250px; } }
@media (min-width: 1024px){ #chart-contexto-1, #chart-contexto-2{ min-height: 320px; } }

/* Placeholder */
.placeholder{ display: grid; place-items: center; height: 100%; color: #334155; font-weight: 700; opacity: 0.8; }

/* Efecto glass (limitado en móvil) */
#datos .chart-container.liquid-glass{
  isolation: isolate;
  background: rgba(255, 255, 255, 0.10);
  border: 1px solid rgba(255, 255, 255, 0.18);
  backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
  box-shadow: 0 8px 20px rgba(0,0,0,0.12), inset 0 1px 0 rgba(255,255,255,0.15);
  transition: transform 200ms ease, box-shadow 200ms ease, border-color 200ms ease, background 200ms ease;
}
#datos .chart-container.liquid-glass:hover{ transform: translateY(-1px); }
@media (max-width: 640px){
  #datos .chart-container.liquid-glass{ backdrop-filter: none !important; -webkit-backdrop-filter: none !important; }
}

/* Alturas adicionales */
#contexto .chart-container{ min-height: 240px; }
@media (min-width: 768px){ #contexto .chart-container{ min-height: 320px; } }
@media (min-width: 1024px){ #contexto .chart-container{ min-height: 360px; } }

#chart-datos-2{ min-height: 420px; }
@media (min-width: 768px){ #chart-datos-2{ min-height: 560px; } }
@media (min-width: 1024px){ #chart-datos-2{ min-height: 660px; } }

/* Intro two-col (texto/imagen) */
.intro-two-col{
  display: grid; grid-template-columns: 1fr;
  gap: clamp(10px, 2.2vw, 18px); align-items: stretch;
}
@media (min-width: 900px){ .intro-two-col{ grid-template-columns: 1.05fr 0.95fr; } }
.intro-col{ min-width: 0; }
.intro-col--text{ display: grid; gap: 8px; align-content: start; }
.intro-col--image{ margin: 0; }
.intro-image-frame{
  border-radius: 10px; overflow: hidden; border: 1px solid #ffffff14;
  background: #0a1226; display: flex; height: 100%;
}
.intro-image-frame img{ width: 100%; height: 100%; object-fit: cover; object-position: center; display: block; }
@media (max-width: 900px){ .intro-image-frame{ aspect-ratio: 4/3; height: auto; } }

/* Counters */
.counter-group{ display: grid; grid-template-columns: 1fr; gap: 8px; margin-top: 6px; }
@media (min-width: 640px){ .counter-group{ grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1024px){ .counter-group{ grid-template-columns: repeat(3, 1fr); } }

.counter-wrap{
  display: grid; gap: 4px; padding: 8px; text-align: center;
  background: rgba(255,255,255,0.9);
  border: 1px solid rgba(0,0,0,0.06); border-radius: 10px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.45), 0 5px 14px rgba(0,0,0,0.08);
}
.counter-value{
  font-size: clamp(1.05rem, 3.6vw, 1.8rem);
  font-weight: 800; color: var(--brand); letter-spacing: -0.02em;
  text-shadow: 0 1px 2px rgba(0,0,0,0.08);
}
.counter-subtitle{ font-size: 0.86rem; color: #64748b; }

/* QR Power BI */
.qr-container{
  display: grid; place-items: center; width: 100%;
  min-height: 220px;
  background: rgba(255,255,255,0.95);
  border: 1px solid rgba(0,0,0,0.06); border-radius: 10px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.55), 0 6px 16px rgba(0,0,0,0.12);
  overflow: hidden;
}
.qr-image{ max-width: 220px; width: 80%; height: auto; }

/* Equipo */
.team-grid{ display: grid; grid-template-columns: 1fr; gap: clamp(10px, 2.4vw, 22px); margin-top: 0.6rem; }
@media (min-width: 700px){ .team-grid{ grid-template-columns: repeat(2, 1fr); } }
@media (min-width: 1024px){ .team-grid{ grid-template-columns: repeat(3, 1fr); } }

.team-card{
  display: grid; justify-items: center; gap: 6px; padding: 10px;
  background: linear-gradient(180deg, rgba(255,255,255,0.20), rgba(255,255,255,0.10));
  border: 1px solid rgba(255,255,255,0.26);
  border-radius: 10px;
  backdrop-filter: blur(8px) saturate(118%); -webkit-backdrop-filter: blur(8px) saturate(118%);
  box-shadow: 0 8px 20px rgba(9, 17, 34, 0.16);
}
.avatar-ring{ width: 110px; height: 110px; border-radius: 50%; display: grid; place-items: center; overflow: hidden; background: #fff; border: 1px solid rgba(255,255,255,0.26); box-shadow: 0 6px 16px rgba(9, 17, 34, 0.14); }
.avatar-img{ width: 100%; height: 100%; object-fit: cover; display: block; }
.team-name{ font-weight: 800; color: #2b3445; font-size: 0.95rem; }
.team-role{ color: #6b778c; font-size: 0.85rem; }

/* Figures/Images para charts */
.chart-figure{ margin: 0; }
.chart-img{ width: 100%; height: 100%; object-fit: contain; display: block; border-radius: 8px; }

/* Footer */
.site-footer{
  background: var(--brand); color: #e5e7eb;
  padding: 10px 0; font-size: 0.78rem;
  border-top: 1px solid rgba(255,255,255,0.14);
}
.footer-wrap{
  width: min(100% - 2*var(--gutter), 1100px);
  margin-inline: auto; padding-inline: var(--gutter);
  display: flex; flex-direction: column; align-items: center; gap: 6px; text-align: center;
}
.footer-brand{ font-weight: 600; }
.footer-right span{ opacity: 0.9; font-size: 0.78rem; }

/* Accesibilidad */
a:focus-visible, button:focus-visible{ outline: 3px solid #93c5fd; outline-offset: 2px; }

/* Header responsive (tablet+) */
@media (min-width: 640px){
  .nav-wrap{ grid-template-columns: 1fr auto; align-items: center; }
  .nav a{ padding: 6px 10px; font-size: 0.9rem; }
}

/* Más aire en desktop */
@media (min-width: 1024px){
  .content{ padding-inline: var(--gutter-lg); }
  .title{ font-size: clamp(2rem, 3.6vw, 3.2rem); }
  .text{ font-size: 1rem; line-height: 1.6; }
}

/* Ultra-compacto en móviles muy pequeños */
@media (max-width: 480px){
  :root{ --nav-h: 54px; --gutter: 10px; }
  .brand{ font-size: .84rem; }
  .nav a{ font-size: .76rem; padding: 4px 7px; border-radius: 8px; }
  .section{ padding-block: 20px; }
  .title{ font-size: clamp(1.3rem, 4.6vw, 2rem); }
  .text{ font-size: .84rem; line-height: 1.45; }
  .fullwidth-card-body{ padding: 10px 12px; }
  .chart-container{ min-height: 190px; padding: 4px; border-radius: 10px; }
  #chart-contexto-1, #chart-contexto-2{ min-height: 210px; }
}